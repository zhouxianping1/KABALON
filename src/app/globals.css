@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  overflow-x: hidden;
  /* 确保浮动按钮不被裁剪 */
  position: relative;
}

body {
  @apply bg-white text-slate-900 antialiased;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    sans-serif;
  line-height: 1.6;
  /* 确保浮动按钮不被裁剪 */
  position: relative;
  overflow-x: hidden;
  overflow-y: auto;
}

h1,
h2,
h3,
h4 {
  @apply font-semibold text-slate-900;
}

p,
li {
  @apply leading-relaxed;
}

/* 品牌色变量 */
:root {
  --brand-blue: #0A52A1;
}

/* 浮动电话按钮样式 - 确保在移动端可见 */
.floating-phone-button {
  position: fixed !important;
  bottom: 16px !important;
  left: 16px !important;
  z-index: 99998 !important;
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  /* 确保不被任何元素遮挡 */
  transform: translateZ(0) !important;
  -webkit-transform: translateZ(0) !important;
  /* 确保按钮在最上层 */
  isolation: isolate;
  /* 确保按钮可见 */
  will-change: transform;
}

@media (min-width: 640px) {
  .floating-phone-button {
    bottom: 24px !important;
    left: 24px !important;
  }
}

/* Zalo Widget 位置控制 - 固定在右下角，与左下角电话按钮完全对称分开 */
/* 使用纯 CSS 控制，避免 JavaScript 操作触发 SDK 内部序列化 */
.zalo-chat-widget {
  position: fixed !important;
  bottom: 16px !important;
  right: 16px !important;
  left: auto !important;
  top: auto !important;
  margin: 0 !important;
  z-index: 99999 !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  /* 确保移动端触摸友好 */
  touch-action: manipulation;
  /* 确保 Widget 按钮足够大 */
  min-width: 48px !important;
  min-height: 48px !important;
  /* 确保在最上层 */
  pointer-events: auto !important;
  /* 确保不被任何元素遮挡 */
  transform: translateZ(0) !important;
  -webkit-transform: translateZ(0) !important;
  /* 防止 SDK 覆盖样式 */
  isolation: isolate;
  will-change: transform;
}

/* 确保 Zalo Widget 内的按钮可见 */
.zalo-chat-widget iframe,
.zalo-chat-widget > div {
  pointer-events: auto !important;
}

/* 移动端优化 */
@media (max-width: 639px) {
  .zalo-chat-widget {
    bottom: 16px !important;
    right: 16px !important;
    /* 放大移动端 Zalo 图标 - 使用 !important 确保优先级 */
    width: 72px !important;
    height: 72px !important;
    min-width: 72px !important;
    min-height: 72px !important;
    max-width: 72px !important;
    max-height: 72px !important;
  }
  
  /* 确保 Zalo Widget 内的所有元素在移动端都是 72px */
  .zalo-chat-widget > *,
  .zalo-chat-widget iframe,
  .zalo-chat-widget > div > * {
    width: 72px !important;
    height: 72px !important;
    min-width: 72px !important;
    min-height: 72px !important;
    max-width: 72px !important;
    max-height: 72px !important;
    pointer-events: auto !important;
  }
  
  /* 特别针对 iframe */
  .zalo-chat-widget iframe {
    width: 72px !important;
    height: 72px !important;
    min-width: 72px !important;
    min-height: 72px !important;
    max-width: 72px !important;
    max-height: 72px !important;
    border: none !important;
  }
}

/* 桌面端 */
@media (min-width: 640px) {
  .zalo-chat-widget {
    bottom: 24px !important;
    right: 24px !important;
  }
}
